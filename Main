!pip install tweepy textblob 

import tweepy
from textblob import TextBlob

# Set up your Twitter API credentials
consumer_key = 'Yours'
consumer_secret = 'Yours'
access_token = 'Yours'
access_token_secret = 'Yours'

# Authenticate with Twitter API
auth = tweepy.OAuthHandler(consumer_key, consumer_secret)
auth.set_access_token(access_token, access_token_secret)
api = tweepy.API(auth)

def get_tweets(query, count=100):
    tweets = []
    try:
        fetched_tweets = tweepy.Cursor(api.search_tweets, q=query, count=count).items(count)
        for tweet in fetched_tweets:
            tweets.append(tweet.text)
        return tweets
    except Exception as e:
        print(f"Error: {str(e)}")
        return None

def analyze_sentiment(tweet):
    analysis = TextBlob(tweet)
    if analysis.sentiment.polarity > 0:
        return "Positive"
    elif analysis.sentiment.polarity < 0:
        return "Negative"
    else:
        return "Neutral"

if __name__ == "__main__":
    query = input("Enter a search query: ")
    tweet_count = int(input("Enter the number of tweets to analyze: "))

    tweets = get_tweets(query, tweet_count)

    if tweets is not None:
        positive_count = 0
        negative_count = 0
        neutral_count = 0

        for tweet in tweets:
            sentiment = analyze_sentiment(tweet)
            if sentiment == "Positive":
                positive_count += 1
            elif sentiment == "Negative":
                negative_count += 1
            else:
                neutral_count += 1

        print(f"Sentiment Analysis for {query}:")
        print(f"Positive tweets: {positive_count}")
        print(f"Negative tweets: {negative_count}")
        print(f"Neutral tweets: {neutral_count}")
    else:
        print("No tweets were retrieved due to an error.")
